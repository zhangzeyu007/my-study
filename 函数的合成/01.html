<!--
 * @Description: 组件
 * @Author: 海象
 * @Date: 2021-01-26 12:51:14
 * @LastEditors: 海象
 * @LastEditTime: 2021-01-26 16:07:45
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>函数合成</title>
</head>

<body>
    <script>
        /**
         * 
### 概念

* ! 函数式编程倡导**利用若干简单的执行单元**让计算结果不断渐进，逐层推导复杂的运算。
* ! 函数式编程有两个最基本的运算：合成（compose）和柯里化（Currying）。

#### 合成（compose）

* ! 如果一个值要经过多个函数，才能变成另外一个值，就可以把所有中间步骤合并成一个函数，这叫做"函数的合成"（compose）。
* ! 合成的好处显而易见，它让代码变得简单而富有可读性，同时通过不同的组合方式，
* ! 我们可以轻易组合出其他常用函数，让我们的代码更具表现力。
         * 
         * 
        */
        function f1(arg) {
            console.log("f1", arg);
            return arg;
        }
        function f2(arg) {
            console.log("f2", arg);
            return arg;
        }
        function f3(arg) {
            console.log("f3", arg);
            return arg;
        }

        function compose(...funcs) {
            if (funcs.length === 0) {
                return arg => arg
            }
            if (funcs.length === 1) {
                return funcs[0]
            }

            return funcs.reduce((a, b) => (...args) => a(b(...args)))
        }

        let res = compose(f1, f2, f3)("omg")

        console.log(res);

    </script>
</body>

</html>