<!--
 * @Description: 
 * @Author: 张泽雨
 * @Date: 2024-03-25 18:42:24
 * @LastEditors: 张泽雨
 * @LastEditTime: 2024-03-25 18:43:44
 * @FilePath: \my-study\重绘回流\01.html
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ios适配问题</title>
  </head>

  <body>
    <script>
      /*
        **重绘(repaint)和回流(reflow)**是浏览器渲染过程中的两个重要概念,它们对web性能有着直接的影响。

**重绘(repaint):**
重绘是指当元素的外观发生改变,但不会影响布局时,浏览器需要重新渲染元素。例如,改变元素的颜色、背景等。重绘的代价较小,因为只需要将新的像素绘制到屏幕上。

**回流(reflow):**
回流是指当元素的大小、位置或布局发生改变时,浏览器需要重新计算并渲染页面。这个过程比重绘更加耗费性能,因为它需要重新计算元素的几何结构,
并且可能会影响其他元素的位置和大小。回流会导致浏览器重新计算元素的几何结构,并且可能会影响其他元素的位置和大小,因此它比重绘的性能开销更大。
为了最小化重绘和回流,可以遵循以下几种策略:

1. **批量修改样式:**
   尽量将多次修改样式的操作合并成一次操作,这样可以减少回流的次数。可以使用类似`classList`的API或者通过改变样式表的方式来批量修改样式。

2. **避免强制同步布局:**
   在修改元素之前先访问或修改元素的某些属性(如`offsetHeight`、`offsetWidth`等)会强制浏览器重新计算布局,从而导致回流。
   应该尽量避免在没有必要的情况下访问这些属性。

3. **使用DocumentFragment:**
   如果需要频繁操作DOM,可以使用DocumentFragment创建一个虚拟的文档对象,在其上应用所有DOM操作,最后再一次性地将它加入文档树中。
   这样可以避免多次回流和重绘。

4. **缓存计算值:**
   对于需要频繁读取的样式属性,可以将计算好的值缓存起来,避免多次重复计算。

5. **避免表格布局:**
   由于表格的特殊性质,在渲染时会经过更多计算,因此应该尽量避免使用表格布局。

6. **避免动态修改样式属性:**
   尽可能使用CSS类控制元素的样式,而不是通过JavaScript直接修改元素的样式属性,这样可以避免回流。

7. **将复杂的动画元素应用绝对位置或固定位置:**
   绝对/固定位置的元素不会影响其他元素的几何结构,因此不会触发整个页面的回流。

8. **避免频繁操作DOM:**
   频繁操作DOM会导致浏览器重新计算元素的几何结构,因此应该尽量减少不必要的DOM操作。

通过采取上述优化策略,可以显著减少重绘和回流的次数,从而提高web应用的性能和用户体验。
        
        
        */
    </script>
  </body>
</html>
