<!--
 * @Description: 组件
 * @Author: 海象
 * @Date: 2021-01-07 11:06:13
 * @LastEditors: 海象
 * @LastEditTime: 2021-01-25 07:46:13
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        #app {
            display: flex;
        }

        .list-item {
            width: 100px;
            height: 100px;
            background-color: aquamarine;
            margin-left: 20px;
        }
    </style>
</head>

<body>
    <div id="app">
        <div class="list-item" id="btn"></div>
        <div class="list-item"></div>
        <div class="list-item"></div>
        <input id="mytext" />
    </div>
    <script>
        // let div = document.getElementById('app')
        // let script = document.createElement("script")
        // script.setAttribute('src', './a.js')
        // script.setAttribute('bar', 'foo')
        // div.appendChild(script)

        // console.log(div);

        // let oberver = new MutationObserver((mutationR) => {
        //     console.log(mutationR);
        // })

        // oberver.observe(document.body.firstChild, { characterData: true })

        // document.body.firstChild.textContent = "opp"
        // oberver.disconnect()
        // let btn = document.getElementById('btn')
        // let text = document.getElementById('mytext')

        // var EventUtil = {
        //     getEvent(event) {
        //         console.log(event);
        //     }
        // }

        // btn.onclick = function (event) {
        //     EventUtil.getEvent(event)

        //     console.log(event.altKey);
        // }

        // document.onclick = function (event) {
        //     console.log(event.altKey);
        // }


        // mytext.addEventListener("compostionstart", (e) => {
        //     console.log(e);
        // })
        // mytext.addEventListener("compostionuptdate", (e) => {
        //     console.log(e);
        // })

        // mytext.addEventListener("compostionend`", (e) => {
        //     console.log(e);
        // })

        // const arry = new Uint8Array(1)
        // console.log(crypto.getRandomValues(arry));

        // (async function () {
        //     const textEncoder = new TextEncoder()
        //     const message = textEncoder.encode('foo')
        //     const messageDigest = await crypto.subtle.digest('SHA-256', message)
        //     console.log(messageDigest);
        //     console.log(new Uint32Array(messageDigest));
        // })()

        // let num = 1
        // let obj = {}

        // console.log(num[Symbol.iterator]);
        // console.log(obj[Symbol.iterator]);


        // let str = 'abc'
        // let arr = ['a', 'b']
        // let map = new Map().set('a', 1).set('b', 3)
        // let set = new Set().add('a').add('o')
        // let els = document.querySelectorAll('div')
        // console.log(str[Symbol.iterator]());
        // console.log(arr[Symbol.iterator]());
        // console.log(map[Symbol.iterator]());
        // console.log(set[Symbol.iterator]());
        // console.log(els[Symbol.iterator]());


        // let arr = ["arr", "b", 'dd']
        // let set = new Set(arr)

        // // console.log(set);
        // let pairs = arr.map((x, i) => [x, i])

        // console.log(pairs);

        // let map = new Map(pairs)

        // console.log(map);

        // function* generatorFn() {
        //     for (const x of [1, 2, 3]) {
        //         yield x;

        //     }
        // }

        // const g = generatorFn()
        // console.log(g.next());
        // console.log(g.next());
        // console.log(g.return(4));
        // console.log(g.next());
        // console.log(g.next());

        // function* foo(x, y) {
        //     return x * y
        // }

        // let it = foo(6, 7)

        // console.log(it);
        // let res = it.next()
        // console.log(res);
        // console.log(res.value);


        // if (true) {

        //     var b = 'nihao '
        //     // let a = 'haha '
        // } 

        // let book = {

        //     year_: 2017,
        //     name: "爱上你"

        // }

        // Object.defineProperty(book, "year", {
        //     get() {
        //         return this.year_
        //     },
        //     set(newValue) {

        //         if (newValue > 2017) {

        //             this.year_ = newValue
        //             this.name = '我是中国'

        //         }
        //     }

        // })



        // book.year = 2018
        // console.log(book.name);


        let book = {}

        Object.defineProperties(book, {
            year_: {
                value: 2017
            },
            edition: {
                value: 1
            },
            year: {
                get: function () {
                    return this.year_
                },
                set: function (newValue) {
                    if (newValue > 2017) {
                        this.year_ = newValue
                        this.edition += newValue - 2017
                    }
                }
            }
        })

        let descriptor = Object.getOwnPropertyDescriptor(book, "year_")
        console.log(descriptor.value);







    </script>
</body>

</html>