<!--
 * @Description: 
 * @Author: 张泽雨
 * @Date: 2024-03-14 13:02:44
 * @LastEditors: 张泽雨
 * @LastEditTime: 2024-03-14 13:45:39
 * @FilePath: \my-study\http知识总结\02.html
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>http知识总结</title>
  </head>
  <body>
    <script>
      /**
       *HTTP 请求结构
      请求行
      请求方法: GET、POST、PUT、DELETE、HEAD、OPTIONS 等
      请求 URL: 包括协议、主机名、端口号、路径、查询字符串等
      HTTP 版本: 如 HTTP/1.1、HTTP/2.0 等
      请求头

      通用头: 如 Host、User-Agent、Accept、Accept-Encoding 等
      请求头: 如 Accept、Accept-Encoding、Connection、Cookie、Referer 等
      实体头: 如 Content-Type、Content-Length 等
      请求体

      对于 POST、PUT 等请求方法,请求体用于传输数据
      HTTP 响应结构

      状态行

      HTTP 版本: 如 HTTP/1.1、HTTP/2.0 等
      状态码: 如 200 OK、404 Not Found、500 Internal Server Error 等
      状态码描述: 一个简短的状态码说明
      响应头

      通用头: 如 Date、Connection、Server 等
      响应头: 如 Content-Type、Content-Length、Cache-Control 等
      实体头: 如 Content-Encoding、ETag、Expires 等
      响应体

      服务器返回给客户端的实际数据内容
      状态码

      1xx 信息状态码: 接收的请求正在处理
      2xx 成功状态码: 请求正常处理完毕
      200 OK: 请求成功
      204 No Content: 请求成功,但响应没有实体
      206 Partial Content: 服务器已经成功处理了部分 GET 请求
      3xx 重定向状态码: 需要进行附加操作以完成请求
      301 Moved Permanently: 永久重定向
      302 Found: 临时重定向
      304 Not Modified: 协商缓存命中,可使用缓存
      4xx 客户端错误状态码: 服务器无法处理请求
      400 Bad Request: 请求语法错误
      401 Unauthorized: 需要身份认证
      403 Forbidden: 服务器拒绝请求
      404 Not Found: 未找到请求资源
      5xx 服务器错误状态码: 服务器处理请求出错
      500 Internal Server Error: 服务器内部错误
      502 Bad Gateway: 网关错误
      503 Service Unavailable: 服务暂时过载或维护
      请求头和响应头

      Content-Type: 实体主体的媒体类型
      Content-Length: 实体主体的长度
      Accept: 客户端可接受的响应类型
      Accept-Encoding: 客户端可接受的编码格式
      User-Agent: 发起请求的用户代理标识
      Server: 服务器名称
      Referer: 请求来源地址
      Cookie: 客户端向服务器传递的 Cookie 数据
      Set-Cookie: 服务器向客户端设置的 Cookie 数据
      Cache-Control: 控制缓存机制
      Expires: 资源过期时间
      ETag: 资源唯一标识
      Last-Modified: 资源最后修改时间
      Connection: 连接管理
      Transfer-Encoding: 传输编码方式
      Upgrade: 升级 HTTP 协议版本
      通过以上内容,我们详细介绍了 HTTP 请求和响应的结构、状态码、请求头和响应头等知识点。
      HTTP 作为 Web 的基础协议,
      理解其请求和响应的细节对于开发高性能 Web 应用至关重要。
      这些知识点涵盖了广泛的内容,对于提高 Web 开发能力很有帮助
       */

      /**
       * HTTP/1.1、HTTP/2 和 HTTP/3 是 HTTP 协议的三个主要版本,它们在性能、功能和底层实现上有着显著的差异,
       * 主要区别总结如下:
              HTTP/1.1

              基于文本的协议格式,每次请求响应都需要进行多次 TCP 连接,效率较低。
              请求管道化,多个请求需按顺序发送,并无法并行处理。
              头部未经压缩,请求和响应的首部冗余较大。
              无法主动推送资源,依赖客户端发起请求。
              HTTP/2

              采用二进制协议格式,更加高效紧凑。
              单个 TCP 连接可并行多路请求和响应,提高传输效率。
              头部压缩,减少了首部的冗余数据。
              服务端可主动推送资源,减少多次请求的开销。
              支持服务端推送数据和流量控制。
              HTTP/3

              基于 QUIC(快速 UDP 互联网连接)协议,底层通过 UDP 进行传输。
              内置加密,不再需要额外的 TLS 加密。
              连接建立更快,减少了传统 TCP+TLS 的多次握手过程。
              改进了拥塞控制和丢包重传机制,更好地适应移动端网络。
              与 HTTP/2 几乎相同的语义,但在传输层有很大差异。
              三者之间的性能对比:

              连接开销
              HTTP/1.1 每次请求都需要重新建立 TCP 连接,开销较大。HTTP/2 通过单一持久连接可并发多个请求,HTTP/3 
              基于 UDP 更节约连接开销。

              头部压缩
              HTTP/1.1 头部未经压缩,HTTP/2 采用高效的头部压缩编码,HTTP/3 继承了同样的压缩算法。

              多路复用
              HTTP/1.1 不支持多路复用,HTTP/2 和 HTTP/3 支持在单一连接上多路复用。

              安全性
              HTTP/1.1 需要单独启用 TLS,HTTP/2 可选启用 TLS,而 HTTP/3 内置加密功能更安全。

              性能提升比较
              相较 HTTP/1.1,HTTP/2 可提升 50%~70% 的性能,而 HTTP/3 对于移动端网络环境可提升更大的性能。
              总的来说,HTTP/2 和 HTTP/3 是对 HTTP/1.1 的重大改进,旨在提高传输性能、减少延迟,为应用提供更快速、
              更可靠的体验。HTTP/3 在移动端网络环境下具有一定的优势,但浏览器和服务端的支持程度也需要考虑。
              未来 HTTP/3 会逐步替代 HTTP/2,成为主流的 Web 传输协议
       * 
       * */

      /**
        * 好的,我将详细讲解管道化、多路复用、头部压缩和 UDP 传输这几个重要的概念。

            管道化(HTTP/1.1)
            管道化是 HTTP/1.1 中的一项优化技术,它允许在同一个 TCP 连接上并行发出多个请求,
            而不需要等待响应返回再发送下一个请求。这样可以减少连接开销,降低传输延迟。

            但管道化也存在一些缺陷:

            请求之间是有序的,后面的请求必须等待前面的请求完成才能获得响应。
            服务器处理请求的顺序不可预知,可能会发生队头阻塞。
            对 HEAD 和其他无实体响应的请求,服务器必须关闭连接。
            多路复用(HTTP/2、HTTP/3)

            多路复用技术允许在单个 TCP 或 UDP 连接上同时发送多个请求和响应,且无需按序。这解决了 HTTP/1.1 
            中的队头阻塞问题,显著提高了性能。

            多路复用的优势:

            无序响应,可并行处理多个请求和响应。
            共享单一连接,减少连接开销和延迟。
            支持流量控制和优先级控制。
            头部压缩(HTTP/2、HTTP/3)

            HTTP 头部通常比数据体积更大,而且存在大量冗余信息。HTTP/2 和 HTTP/3 使用了高效的压缩算法(HPACK)来压缩头部,
            从而减小传输数据量,提高传输效率。

            压缩步骤:

            在客户端和服务器端维护一个共享的字典,存储常见的头部字段。
            使用索引静态或动态替换字典中的头部字段。
            对剩余头部字段进行哈夫曼编码压缩。
            UDP 传输(HTTP/3)

            HTTP/3 基于 QUIC 协议,采用了 UDP 作为底层传输层协议,而非 TCP。

            使用 UDP 的优势:

            减少了 TCP 连接建立的开销,加快连接建立速度。
            内置连接迁移、重传和拥塞控制机制,提升可靠性。
            独立于 TCP,不受队头阻塞等 TCP 缺陷的影响。
            默认启用了安全传输加密,无需额外的 TLS 开销。
            当然 UDP 也有一些缺点,如不能直接穿透防火墙、可靠性依赖上层协议等,这也是以往 HTTP 协议选择 TCP 的原因。
            但 QUIC 协议很好地解决了这些问题。

             综上所述,管道化、多路复用、头部压缩和 UDP 传输都是 HTTP 协议为了提升传输性能而采用的核心技术手段。
            通过消除队头阻塞、减少连接开销、压缩数据等措施,HTTP/2 和 HTTP/3 大幅提升了 Web 应用的性能和用户体验。
       */

      /**
        * UDP 和 TCP 是两种重要的传输层协议,在通信机制、可靠性、连接方式等方面存在显著差异。我们一起来详细对比一下:

              连接方式

              TCP 是面向连接的协议,传输数据前需要三次握手建立连接。
              UDP 是无连接的协议,不需要建立连接就能直接发送数据。
              可靠性

              TCP 提供可靠的数据传输服务,有序传输、重传控制、流量控制、拥塞控制等机制保证数据完整性。
              UDP 是不可靠的传输协议,不保证数据的完整性,数据可能丢失、重复、乱序。
              传输方式

              TCP 是面向字节流的协议,发送数据时将其看作一个无结构的字节流。
              UDP 是面向报文的协议,发送数据时会给数据添加源端口和目的端口号,这样就构成了数据报文段。
              首部开销

              TCP 首部较大,有 20-60 字节不等。
              UDP 首部只有 8 字节。
              传输速度

              TCP 需要先建立连接、保证可靠传输,导致传输速度比 UDP 慢。
              UDP 不需要建立连接、不存在拥塞控制等机制,传输速度较快。
              应用场景

              TCP 适用于对可靠性要求较高的场景,如文件传输、远程登录、HTTP 等。
              UDP 适用于对实时性要求较高的场景,如视频直播、在线游戏、DNS 等。
              常见特性对比

              特性	TCP	UDP
              连接方式	面向连接	无连接
              可靠性	可靠	不可靠
              传输方式	字节流	报文段
              首部开销	较大	较小
              顺序控制	有	无
              重传机制	有	无
              流量控制	有	无
              拥塞控制	有	无
              总的来说，TCP 提供了一种可靠、有序、面向字节流的通信服务，适用于对可靠性要求较高的应用场景。
              而 UDP 则提供了一种不可靠、无序、面向报文的通信服务，适用于对实时性要求较高的应用场景。
              在设计网络应用时，需要根据实际需求来选择合适的传输层协议。
       */
    </script>
  </body>
</html>
