<!--
 * @Description: 
 * @Author: 张泽雨
 * @Date: 2024-03-13 19:41:49
 * @LastEditors: 张泽雨
 * @LastEditTime: 2024-03-13 20:00:30
 * @FilePath: \my-study\函数\高阶函数\03.html
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>高阶函数</title>
  </head>
  <body>
    <script>
      // 1.接受函数作为参数的高阶函数
      // 定义一个高阶函数 forEach,接受一个数组和一个函数作为参数
      function forEach(array, action) {
        for (let i = 0; i < array.length; i++) {
          action(array[i]); // 将数组元素传递给 action 函数执行
        }
      }

      // 使用 forEach 函数遍历数组
      let numbers = [1, 2, 3, 4, 5];
      forEach(numbers, function (num) {
        console.log(num * 2); // 输出每个数字的两倍
      });

      //2. 返回函数的高阶函数
      // 定义一个高阶函数 makeCounter,它返回一个新的函数
      function makeCounter() {
        let count = 0;
        return function () {
          return ++count; // 每次调用返回的函数,计数器加 1
        };
      }

      // 使用 makeCounter 函数创建计数器
      let counter1 = makeCounter();
      let counter2 = makeCounter();
      console.log(counter1());
      console.log(counter1());
      console.log(counter2()); // 输出 1

      //3. 数组方法中的高阶函数
      // map 方法接受一个函数作为参数,对数组的每个元素执行该函数
      let doubledNumbers = numbers.map(function (num) {
        return num * 2;
      });
      console.log(doubledNumbers); // 输出 [2, 4, 6, 8, 10]

      // filter 方法接受一个函数作为参数,过滤出满足条件的元素
      let evenNumbers = numbers.filter(function (num) {
        return num % 2 === 0;
      });
      console.log(evenNumbers); // 输出 [2, 4]

      // reduce 方法接受一个函数作为参数,对数组的每个元素执行该函数并累加结果
      let sum = numbers.reduce(function (accumulator, num) {
        return accumulator + num;
      }, 0);
      console.log(sum); // 输出 15
    </script>
  </body>
</html>
