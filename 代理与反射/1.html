<!--
 * @Description: 
 * @Author: 张泽雨
 * @Date: 2021-03-03 08:01:39
 * @LastEditors: 张泽雨
 * @LastEditTime: 2024-03-20 19:38:10
 * @FilePath: \my-study\代理与反射\1.html
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>代理与反射</title>
  </head>

  <body>
    <script>
      const target = {
        foo: "走了333",
      };
      const handler = {
        get(trapTarget, property, receiver) {
          // console.log(trapTarget);
          // console.log(property);
          // console.log(receiver);
          // return trapTarget[property]
          let decoration = "";
          if (property === "foo") {
            decoration = "!!!!!";
          }
          return Reflect.get(...arguments) + decoration;
        },
      };
      const proxy = new Proxy(target, handler);

      console.log("------------------------------------");
      // console.log(target.foo);
      console.log(proxy.foo);
      // console.log(Object.create(target)['foo']);
      // console.log(Object.create(proxy)['foo']);

      const obj = { a: 1 };
      const prototypeObj = { b: 2 };
      Object.setPrototypeOf(obj, prototypeObj);

      console.log(obj, "obj");
      const descriptors = Object.getOwnPropertyDescriptors(obj);
      console.log(descriptors);
      const res = Object.keys(obj);
      console.log(res);

      const arr = [1, 2, 3];

      console.log(arr.indexOf(3));
    </script>
  </body>
</html>
